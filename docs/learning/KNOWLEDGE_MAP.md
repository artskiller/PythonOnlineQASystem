# 🗺️ Python 知识图谱

本文档展示项目中涉及的所有知识点及其关系，帮助你建立完整的知识体系。

## 📚 知识体系总览

```
Python 核心
├── 基础语法
├── 标准库
├── 数据处理
├── 算法与数据结构
├── 并发编程
├── 工程实践
└── 系统设计
```

---

## 🌳 知识树

### 1️⃣ 基础语法与标准库

```
正则表达式 (re)
├── 基本匹配: \d, \w, \s, .
├── 量词: *, +, ?, {n,m}
├── 分组: (), (?:), (?P<name>)
├── 应用场景
│   ├── 金额提取 → 数据清洗
│   ├── 文本验证 → 数据校验
│   └── 字段解析 → 业务数据提取
└── 相关题目: A1, F1, E3, V

字典与集合
├── 字典推导: {k: v for ...}
├── 集合推导: {x for ...}
├── defaultdict, Counter
├── 应用场景
│   ├── 数据聚合 → 报表生成
│   ├── 去重统计 → 数据分析
│   └── 分组汇总 → pandas groupby
└── 相关题目: A2, F2, E5

排序与比较
├── sorted() + key 参数
├── 多键排序: (key1, -key2)
├── operator.itemgetter
├── 应用场景
│   ├── 数据排序 → 报表展示
│   ├── TopK 问题 → heapq
│   └── 优先级队列 → 任务调度
└── 相关题目: A3, C2, M1

生成器与迭代器
├── yield 关键字
├── yield from
├── 生成器表达式
├── itertools 模块
├── 应用场景
│   ├── 流式处理 → 大文件读取
│   ├── 惰性求值 → 节省内存
│   └── 管道模式 → 数据清洗
└── 相关题目: A4, C3, D4, B6

上下文管理器
├── with 语句
├── @contextmanager
├── __enter__ / __exit__
├── 应用场景
│   ├── 资源管理 → 文件、数据库连接
│   ├── 临时状态 → 切换目录、修改配置
│   └── 事务控制 → 数据库事务
└── 相关题目: A5, N1, W3

CSV 与文件处理
├── csv.DictReader / DictWriter
├── 文件编码处理
├── 流式读写
├── 应用场景
│   ├── 数据导入导出 → ETL
│   ├── 报表生成 → 业务系统
│   └── 日志处理 → 可观测性
└── 相关题目: A6, F4, J2
```

---

### 2️⃣ 数据处理 (pandas/numpy)

```
pandas 基础
├── DataFrame / Series
├── 读取数据: read_csv, read_excel
├── 数据选择: loc, iloc, []
├── 数据清洗
│   ├── 缺失值处理: fillna, dropna
│   ├── 重复值: drop_duplicates
│   └── 类型转换: astype
├── 应用场景
│   ├── 数据分析 → 业务报表
│   ├── 数据清洗 → 数据质量
│   └── 特征工程 → 机器学习
└── 相关题目: B1, B2, G1

数据聚合与分组
├── groupby 操作
├── 聚合函数: sum, mean, count
├── 多列聚合: agg({'col': ['sum', 'mean']})
├── 应用场景
│   ├── 分组统计 → 部门汇总
│   ├── 透视分析 → pivot_table
│   └── 时间序列聚合 → 月度报表
└── 相关题目: B3, E5, G4

数据合并
├── merge (类似 SQL JOIN)
├── concat (拼接)
├── join (索引合并)
├── 注意事项
│   ├── 键的 dtype 一致性
│   ├── 缺失值处理
│   └── 重复键处理
└── 相关题目: B4, G2

向量化计算
├── 避免 apply
├── 使用 numpy 操作
├── 布尔索引
├── 性能优势
│   ├── 比循环快 10-100 倍
│   ├── 利用 C 底层实现
│   └── 减少 Python 解释器开销
└── 相关题目: B5, F5, D3

时间序列
├── pd.to_datetime
├── DateOffset: MonthEnd, MonthBegin
├── 时间运算: pct_change, diff
├── 滚动窗口: rolling
├── 应用场景
│   ├── 环比同比 → 财务分析
│   ├── 移动平均 → 趋势分析
│   └── 时区转换 → 全球业务
└── 相关题目: B6, G3, G5, G6
```

---

### 3️⃣ 算法与数据结构

```
常用数据结构
├── LRU Cache (OrderedDict)
│   ├── 原理: 哈希表 + 双向链表
│   ├── 操作: get O(1), put O(1)
│   └── 相关题目: C1, E2
├── Trie (前缀树)
│   ├── 应用: 字符串匹配、脱敏
│   └── 相关题目: I1
├── 并查集 (Union-Find)
│   ├── 应用: 连通性问题
│   └── 相关题目: I2
└── 堆 (heapq)
    ├── TopK 问题
    └── 相关题目: C2

搜索算法
├── 二分查找 (bisect)
│   ├── 时间复杂度: O(log n)
│   ├── 应用: 有序数组查找
│   └── 相关题目: C4
├── BFS (广度优先)
│   ├── 应用: 最短路径
│   └── 相关题目: F8, O1
└── DFS (深度优先)
    ├── 应用: 图遍历、拓扑排序
    └── 相关题目: I6

字符串算法
├── KMP 模式匹配
│   ├── 时间复杂度: O(n+m)
│   └── 相关题目: I3
├── 滑动窗口
│   ├── 应用: 子串问题
│   └── 相关题目: I4
└── 正则表达式
    └── 相关题目: A1, F1, V

排序与选择
├── 快速选择 (QuickSelect)
│   ├── 平均 O(n)
│   └── 相关题目: I5
├── 多键排序
│   └── 相关题目: A3, F3
└── 拓扑排序
    └── 相关题目: I6
```

---

### 4️⃣ 并发编程

```
异步编程 (asyncio)
├── 协程基础
│   ├── async def / await
│   ├── 事件循环
│   └── 相关题目: D2, H1
├── 并发控制
│   ├── asyncio.gather
│   ├── asyncio.Semaphore (限流)
│   ├── asyncio.Queue (队列)
│   └── 相关题目: F6, H1, T1
├── 错误处理
│   ├── 异常传播
│   ├── 超时控制
│   └── 优雅关闭
└── 应用场景
    ├── I/O 密集任务 → API 调用
    ├── 并发爬虫 → 数据采集
    └── 异步服务 → Web 后端

多线程
├── ThreadPoolExecutor
├── 线程安全
│   ├── Lock, RLock
│   ├── threading.local
│   └── 相关题目: D1, H2
└── 应用场景
    ├── I/O 密集 → 文件处理
    └── 并发下载 → 批量任务

重试与退避
├── 指数退避 (Exponential Backoff)
├── 抖动 (Jitter)
├── 最大重试次数
├── 幂等性保证
└── 相关题目: H3, T2

生产者-消费者
├── Queue 模式
├── 背压控制
├── 批量处理
└── 相关题目: H4, T1
```

---

### 5️⃣ 工程实践

```
日志与可观测性
├── logging 模块
│   ├── 配置: basicConfig
│   ├── 级别: DEBUG, INFO, WARNING, ERROR
│   ├── Handler: FileHandler, StreamHandler
│   └── 相关题目: D4, L4, P1
├── 结构化日志
│   ├── JSON 格式
│   ├── 字段标准化: ts, level, msg
│   ├── 上下文注入: trace_id, span_id
│   └── 相关题目: P1, P2, P4
├── 采样与过滤
│   └── 相关题目: P2
└── 性能监控
    └── 相关题目: P3

异常处理
├── try / except / else / finally
├── 自定义异常
├── 异常链 (raise from)
├── 上下文管理器
└── 相关题目: N1, N2, N3

类型系统
├── 类型注解: List[int], Dict[str, float]
├── typing 模块
│   ├── Optional, Union
│   ├── Protocol (结构化子类型)
│   └── TypeVar (泛型)
├── dataclass
│   └── 相关题目: C6, M1
└── 运行时检查
    └── isinstance, hasattr

测试与调试
├── 断言: assert
├── 单元测试: unittest, pytest
├── 调试: pdb, print
└── 相关题目: L (调试与修复)
```

---

### 6️⃣ 业务应用

```
财税业务
├── 个税计算
│   ├── 速算扣除法
│   ├── 累进税率
│   └── 相关题目: E1, I1
├── 增值税
│   ├── 销项 - 进项
│   ├── 含税 → 不含税 + 税额
│   └── 相关题目: E2, I2, F5
├── 发票处理
│   ├── 文本解析
│   ├── 字段校验
│   ├── 去重匹配
│   └── 相关题目: E3, I3, J1, V
└── 报表生成
    ├── 透视表
    ├── 期间汇总
    └── 相关题目: E5, I5

数据合规
├── 数据脱敏
│   ├── 账号: 保留后 4 位
│   ├── 姓名: 保留首字
│   ├── 邮箱: 部分隐藏
│   └── 相关题目: E4, I4, Q1, Q2
├── 数据校验
│   ├── 税号格式
│   ├── 信用代码
│   ├── 身份证号
│   └── 相关题目: F6, J5, Q4
└── 加密与哈希
    ├── 哈希 + 盐
    ├── k-匿名
    └── 相关题目: Q1, Q3

高精度计算
├── Decimal 类型
├── 舍入策略: ROUND_HALF_UP
├── 金额格式化
└── 相关题目: F1, F2, J6
```

---

### 7️⃣ 系统设计

```
数据库与 SQL
├── SQLite
│   ├── 参数化查询 (防注入)
│   ├── 事务控制
│   └── 相关题目: R1, R2, R3
├── SQL 操作
│   ├── JOIN (左连接、内连接)
│   ├── GROUP BY (聚合)
│   ├── 窗口函数
│   └── 相关题目: G1-G5 (SQL 题)
└── 数据持久化
    └── 相关题目: W, Z

API 设计
├── RESTful 风格
├── 请求/响应格式
│   ├── JSON Schema
│   ├── 参数校验
│   └── 错误码设计
├── 幂等性
├── 版本控制
└── 相关题目: S, AB

链路追踪
├── Trace / Span 概念
├── contextvars
├── 上下文传播
└── 相关题目: U, P4

数据流水线
├── 扫描 → 解析 → 校验 → 落库
├── 错误隔离
├── 批量处理
├── 回执生成
└── 相关题目: W, AA

规则引擎
├── 条件匹配
├── 动作执行
├── DSL 设计
└── 相关题目: Y, I6
```

---

## 🔗 知识点关联图

### 数据处理流程

```
原始数据
    ↓
[正则提取] → 文本清洗
    ↓
[字典聚合] → 数据分组
    ↓
[pandas 处理] → 向量化计算
    ↓
[数据校验] → 合规检查
    ↓
[SQL 持久化] → 数据存储
    ↓
[报表生成] → 业务展示
```

### 并发处理流程

```
任务队列
    ↓
[asyncio.gather] → 并发执行
    ↓
[Semaphore] → 限流控制
    ↓
[重试退避] → 错误处理
    ↓
[结果聚合] → 数据汇总
```

### 工程实践流程

```
业务需求
    ↓
[类型注解] → 代码设计
    ↓
[异常处理] → 错误管理
    ↓
[日志记录] → 可观测性
    ↓
[单元测试] → 质量保证
    ↓
[性能优化] → 生产部署
```

---

## 📖 按题目查找知识点

| 题目 | 核心知识点 | 难度 |
|------|-----------|------|
| A | 正则、字典、排序、生成器、上下文、CSV | ⭐ |
| B | pandas 基础、groupby、merge、向量化 | ⭐⭐ |
| C | LRU、TopK、yield from、二分、itertools | ⭐⭐ |
| D | 线程池、asyncio、numpy、流式处理、logging | ⭐⭐ |
| E | 个税、增值税、发票解析、脱敏、报表 | ⭐⭐⭐ |
| F | Decimal、正则、上下文、金额格式化 | ⭐⭐ |
| G | pandas 进阶、环比同比、滚动、透视、时区 | ⭐⭐⭐ |
| H | asyncio 限流、线程安全、重试、生产者-消费者 | ⭐⭐⭐ |
| I | Trie、并查集、KMP、滑窗、快速选择、拓扑 | ⭐⭐⭐⭐ |
| J | 发票去重、JSONL、税率标签、信用代码 | ⭐⭐⭐ |
| K | 基础综合（选择、判断、小脚本） | ⭐ |
| L | 调试与修复（字典、路径、分块、日志） | ⭐⭐ |
| M | dataclass、聚合、Protocol、文档 | ⭐⭐ |
| N | 异常、上下文、重试装饰器 | ⭐⭐ |
| O | 网格最短路、日志解析、令牌化 | ⭐⭐⭐ |
| P | JSON 日志、采样、耗时统计、上下文注入 | ⭐⭐⭐ |
| Q | 哈希+盐、脱敏、k-匿名、身份证检测 | ⭐⭐⭐ |
| R | SQLite、参数化查询、主键冲突 | ⭐⭐ |
| S | API 契约、路由、参数校验、错误码 | ⭐⭐⭐ |
| T | 异步编排、去重、背压、重试、优雅关闭 | ⭐⭐⭐⭐ |
| U | Tracing、trace/span、上下文 | ⭐⭐⭐ |
| V | OCR 清洗、规范化、字段抽取 | ⭐⭐⭐ |
| W | 批量导入、校验、事务、回执 | ⭐⭐⭐⭐ |
| X | 审计日志、轮转、备份 | ⭐⭐ |
| Y | 规则引擎、条件匹配、动作执行 | ⭐⭐⭐ |
| Z | 端到端项目（CLI） | ⭐⭐⭐⭐ |
| AA | 端到端项目（并发版） | ⭐⭐⭐⭐⭐ |
| AB | 端到端项目（HTTP 服务） | ⭐⭐⭐⭐⭐ |

---

## 🎯 学习路径建议

### 按知识点学习

**想学正则表达式**：A1 → F1 → E3 → V

**想学 pandas**：B → G → E5 → I5

**想学算法**：C → I → O

**想学并发**：D → H → T → AA

**想学工程实践**：L → N → P → Z

**想学系统设计**：R → S → U → W → AB

---

**下一步**：
- 📖 查看 [学习路径](LEARNING_PATH.md) 开始系统学习
- 🚀 查看 [快速开始](QUICK_START.md) 立即动手
- ❓ 查看 [FAQ](FAQ.md) 解决疑问

